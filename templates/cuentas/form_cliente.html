{% block content %}

{% if accion == "Cliente" %}
    
    {% for field in form %}
        <div class="{% if field.name == 'direccion' %}col-md-12{% else %}col-md-6{% endif %}">
            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label|safe }}</label>
            {{ field }}
            <div class="invalid-feedback">Por favor, ingrese {{ field.label|striptags|lower }}.</div>
        </div>
    {% endfor %}

{% elif accion == "Factura" %}

    <div class="col-md-6">
        <label class="form-label"><strong>Número de factura</strong></label>
        <input type="text" class="form-control" value="TKV-{{ now|date:'Y' }}-XXXX" disabled>
        <div class="form-text">Este número se asignará automáticamente al guardar.</div>
    </div>

    {% for field in form %}
        <div class="{% if field.name == 'fecha_vencimiento' %}col-md-12{% else %}col-md-6{% endif %}">
            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label|safe }}</label>
            {% if field.name == 'cliente' %}
                <div class="d-flex align-items-center">
                    {{ field }}
                    <a href="#" class="btn btn-outline-primary btn-sm ms-2" data-bs-toggle="modal" data-bs-target="#modalCliente" 
                    data-url="{% url 'agregar_cliente' %}" 
                    title="Agregar nuevo cliente">
                        <i class="bx bx-plus"></i>
                    </a>
                </div>
            {% else %}
                {{ field }}
            {% endif %}
            <div class="invalid-feedback">Por favor, ingrese {{ field.label|striptags|lower }}.</div>
        </div>
    {% endfor %}

{% endif %}

{% endblock %}
